<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toply - AI Recruitment Intelligence</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        .similarity-bar {
            background: linear-gradient(90deg, #ef4444 0%, #f59e0b 50%, #10b981 100%);
            height: 8px;
            border-radius: 4px;
        }
        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        .glassmorphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .user-access-modal {
            backdrop-filter: blur(5px);
            background: rgba(0, 0, 0, 0.5);
        }
        .slide-up {
            animation: slideUp 0.3s ease-out;
        }
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- User Access Modal -->
    <div id="userAccessModal" class="fixed inset-0 z-50 user-access-modal flex items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4 slide-up">
            <div class="text-center mb-6">
                <i class="fas fa-users text-4xl text-blue-600 mb-4"></i>
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Welcome to Toply</h2>
                <p class="text-gray-600">Choose how you'd like to access the platform</p>
            </div>
            
            <div class="space-y-4">
                <div class="border rounded-lg p-4">
                    <h3 class="font-semibold text-gray-800 mb-2">Team Member Access</h3>
                    <p class="text-sm text-gray-600 mb-3">Full features including candidate tracking, saved lists, and personalized analytics</p>
                    <select id="teamMemberSelect" class="w-full p-2 border rounded-md">
                        <option value="">Select your name</option>
                        <option value="Dana">Dana</option>
                        <option value="Alexey">Alexey</option>
                        <option value="Katinka">Katinka</option>
                        <option value="Shiri">Shiri</option>
                        <option value="Mika">Mika</option>
                        <option value="Chen">Chen</option>
                        <option value="Andrea">Andrea</option>
                        <option value="Eszter">Eszter</option>
                        <option value="Danana">Danana</option>
                    </select>
                    <button id="teamMemberLogin" class="w-full mt-2 bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition-colors">
                        <i class="fas fa-sign-in-alt mr-2"></i>Continue as Team Member
                    </button>
                </div>
                
                <div class="border rounded-lg p-4">
                    <h3 class="font-semibold text-gray-800 mb-2">Guest Access</h3>
                    <p class="text-sm text-gray-600 mb-3">Browse and search candidates with read-only access</p>
                    <button id="guestLogin" class="w-full bg-gray-600 text-white py-2 rounded-md hover:bg-gray-700 transition-colors">
                        <i class="fas fa-eye mr-2"></i>Continue as Guest
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden">
        <!-- Header -->
        <header class="gradient-bg text-white shadow-lg">
            <div class="container mx-auto px-4 py-4">
                <div class="flex justify-between items-center">
                    <div>
                        <h1 class="text-2xl font-bold">Toply Intelligence Hub</h1>
                        <p class="text-blue-100">Advanced Recruitment Intelligence Platform</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="glassmorphism px-4 py-2 rounded-lg">
                            <span class="text-sm">Logged in as: </span>
                            <span id="currentUser" class="font-semibold"></span>
                            <button id="switchUser" class="ml-2 text-xs bg-white bg-opacity-20 px-2 py-1 rounded">
                                Switch
                            </button>
                        </div>
                        <div id="selectedCounter" class="glassmorphism px-4 py-2 rounded-lg cursor-pointer">
                            <i class="fas fa-list mr-2"></i>
                            <span>Selected (0)</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="bg-white shadow-sm border-b">
            <div class="container mx-auto px-4">
                <div class="flex space-x-8">
                    <button class="nav-tab active py-4 px-2 border-b-2 border-blue-600 text-blue-600" data-tab="dashboard">
                        <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
                    </button>
                    <button class="nav-tab py-4 px-2 border-b-2 border-transparent hover:border-gray-300" data-tab="search">
                        <i class="fas fa-search mr-2"></i>Smart Search
                    </button>
                    <button class="nav-tab py-4 px-2 border-b-2 border-transparent hover:border-gray-300" data-tab="similarity">
                        <i class="fas fa-brain mr-2"></i>AI Similarity
                    </button>
                    <button class="nav-tab py-4 px-2 border-b-2 border-transparent hover:border-gray-300" data-tab="sourcing">
                        <i class="fas fa-magic mr-2"></i>Auto-Sourcing
                    </button>
                    <button class="nav-tab py-4 px-2 border-b-2 border-transparent hover:border-gray-300" data-tab="companies">
                        <i class="fas fa-building mr-2"></i>Companies
                    </button>
                    <button class="nav-tab py-4 px-2 border-b-2 border-transparent hover:border-gray-300" data-tab="settings">
                        <i class="fas fa-cog mr-2"></i>Settings
                    </button>
                </div>
            </div>
        </nav>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content">
            <div class="container mx-auto px-4 py-8">
                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="card-hover bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-lg shadow-lg cursor-pointer" onclick="switchToTab('companies')">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-blue-100">Hot Companies</p>
                                <p class="text-3xl font-bold">28</p>
                            </div>
                            <i class="fas fa-fire text-4xl text-blue-200"></i>
                        </div>
                    </div>
                    
                    <div class="card-hover bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-lg shadow-lg cursor-pointer" onclick="switchToTab('search', 'looking')">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-green-100">Active Candidates</p>
                                <p class="text-3xl font-bold">100+</p>
                            </div>
                            <i class="fas fa-user-check text-4xl text-green-200"></i>
                        </div>
                    </div>
                    
                    <div class="card-hover bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-lg shadow-lg cursor-pointer" onclick="switchToTab('similarity')">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-purple-100">TOP Profiles</p>
                                <p class="text-3xl font-bold" id="topProfilesCount">0</p>
                            </div>
                            <i class="fas fa-star text-4xl text-purple-200"></i>
                        </div>
                    </div>
                    
                    <div class="card-hover bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-lg shadow-lg cursor-pointer" onclick="switchToTab('similarity')">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-orange-100">GOOD Profiles</p>
                                <p class="text-3xl font-bold" id="goodProfilesCount">0</p>
                            </div>
                            <i class="fas fa-thumbs-up text-4xl text-orange-200"></i>
                        </div>
                    </div>
                </div>

                <!-- Priority Recommendations -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-semibold mb-4 flex items-center">
                            <i class="fas fa-exclamation-triangle text-red-500 mr-2"></i>
                            Today's Priority Recommendations
                        </h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-red-50 rounded-lg border-l-4 border-red-500">
                                <h4 class="font-semibold text-red-800">Contact Microsoft candidates immediately</h4>
                                <p class="text-red-600 text-sm">3 active candidates + recent layoffs = 85% response rate expected</p>
                            </div>
                            <div class="p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                <h4 class="font-semibold text-blue-800">Unity talent surge detected</h4>
                                <p class="text-blue-600 text-sm">3 candidates from Unity - consider Gaming/Mobile opportunities</p>
                            </div>
                            <div class="p-4 bg-green-50 rounded-lg border-l-4 border-green-500">
                                <h4 class="font-semibold text-green-800">Security sector opportunity</h4>
                                <p class="text-green-600 text-sm">Review 12 new Security professionals this week</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-semibold mb-4 flex items-center">
                            <i class="fas fa-chart-line text-blue-500 mr-2"></i>
                            Market Intelligence
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-2">This Week's Intelligence</h4>
                                <ul class="space-y-2 text-sm text-gray-600">
                                    <li class="flex items-center"><i class="fas fa-arrow-up text-green-500 mr-2"></i>Security sector: 23% more active candidates</li>
                                    <li class="flex items-center"><i class="fas fa-fire text-red-500 mr-2"></i>Backend roles: High demand detected</li>
                                    <li class="flex items-center"><i class="fas fa-chart-bar text-blue-500 mr-2"></i>Microsoft candidates: 85% response rate</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-2">Best Timing Recommendations</h4>
                                <ul class="space-y-2 text-sm text-gray-600">
                                    <li class="flex items-center"><i class="fas fa-clock text-yellow-500 mr-2"></i>Wiz candidates: Contact now (layoffs detected)</li>
                                    <li class="flex items-center"><i class="fas fa-calendar text-blue-500 mr-2"></i>Microsoft window: Next 2 weeks optimal</li>
                                    <li class="flex items-center"><i class="fas fa-rocket text-purple-500 mr-2"></i>Q1 hiring surge: Prepare candidate pipeline</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Smart Search Tab -->
        <div id="search" class="tab-content hidden">
            <div class="container mx-auto px-4 py-8">
                <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                    <h2 class="text-2xl font-semibold mb-6">Smart Candidate Search</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Job Title / Role</label>
                            <input type="text" id="jobTitle" class="w-full p-3 border border-gray-300 rounded-md" placeholder="e.g., Backend Engineer">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Skills</label>
                            <input type="text" id="skills" class="w-full p-3 border border-gray-300 rounded-md" placeholder='Use "," for AND, "OR" for either'>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Experience Level</label>
                            <select id="experience" class="w-full p-3 border border-gray-300 rounded-md">
                                <option value="">Any Experience</option>
                                <option value="junior">Junior (0-2 years)</option>
                                <option value="mid">Mid-level (3-5 years)</option>
                                <option value="senior">Senior (5+ years)</option>
                                <option value="lead">Lead/Principal (7+ years)</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                            <input type="text" id="location" class="w-full p-3 border border-gray-300 rounded-md" placeholder="e.g., Tel Aviv">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Company Filter</label>
                            <input type="text" id="companyFilter" class="w-full p-3 border border-gray-300 rounded-md" placeholder="e.g., Wiz, Microsoft">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Score Range</label>
                            <select id="scoreRange" class="w-full p-3 border border-gray-300 rounded-md">
                                <option value="">Any Score</option>
                                <option value="80-100">Excellent (80-100)</option>
                                <option value="60-79">Good (60-79)</option>
                                <option value="40-59">Average (40-59)</option>
                            </select>
                        </div>
                    </div>

                    <div class="flex flex-wrap gap-4 mb-6">
                        <label class="flex items-center">
                            <input type="checkbox" id="lookingOnly" class="mr-2">
                            <span class="text-sm">Show only LOOKING candidates</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" id="hotCompaniesOnly" class="mr-2">
                            <span class="text-sm">Show only from Hot Companies</span>
                        </label>
                        <label class="flex items-center" id="unviewedFilter">
                            <input type="checkbox" id="unviewedOnly" class="mr-2">
                            <span class="text-sm">Show only unviewed (this week)</span>
                        </label>
                    </div>

                    <button id="searchBtn" class="bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors">
                        <i class="fas fa-search mr-2"></i>Search Candidates
                    </button>
                </div>

                <!-- Search Results -->
                <div id="searchResults" class="bg-white rounded-lg shadow-lg p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold">Search Results</h3>
                        <div class="flex space-x-2">
                            <button id="selectAllBtn" class="text-sm bg-gray-200 px-3 py-1 rounded">Select All</button>
                            <button id="exportSelectedBtn" class="text-sm bg-blue-600 text-white px-3 py-1 rounded">Export Selected</button>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="text-left p-3">Select</th>
                                    <th class="text-left p-3">Candidate</th>
                                    <th class="text-left p-3">Status</th>
                                    <th class="text-left p-3">Company</th>
                                    <th class="text-left p-3">Title</th>
                                    <th class="text-left p-3">Experience</th>
                                    <th class="text-left p-3">Score</th>
                                    <th class="text-left p-3">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="candidateResults">
                                <tr>
                                    <td colspan="8" class="text-center p-8 text-gray-500">
                                        <i class="fas fa-search text-4xl mb-4"></i>
                                        <p>Enter search criteria and click "Search Candidates" to find matches</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Similarity Tab -->
        <div id="similarity" class="tab-content hidden">
            <div class="container mx-auto px-4 py-8">
                <!-- Upload Section -->
                <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                    <h2 class="text-2xl font-semibold mb-6">AI Similarity Search</h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-lg font-semibold mb-4">Upload Scorely Results</h3>
                            <div id="dropZone" class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors cursor-pointer">
                                <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                                <p class="text-lg text-gray-600 mb-2">Drag & drop Scorely JSON file here</p>
                                <p class="text-sm text-gray-500 mb-4">or click to browse</p>
                                <p class="text-xs text-gray-400">Supports: .json, .csv files with embeddings</p>
                                <input type="file" id="fileInput" class="hidden" accept=".json,.csv">
                            </div>
                            <div id="uploadStatus" class="mt-4 hidden">
                                <div class="bg-green-50 border border-green-200 rounded p-3">
                                    <p class="text-green-800 font-semibold">✓ File uploaded successfully</p>
                                    <p class="text-green-600 text-sm" id="uploadDetails"></p>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-4">Find Similar Candidates</h3>
                            <textarea id="similarityQuery" rows="6" class="w-full p-3 border border-gray-300 rounded-md" placeholder="Enter job description, candidate profile, or requirements...

Example:
- 'Senior Backend Engineer with Python, AWS, 5+ years'
- 'Looking for profiles similar to our best developer'
- 'Find candidates from companies like Wiz'"></textarea>
                            <button id="findSimilarBtn" class="mt-4 w-full bg-purple-600 text-white py-3 rounded-md hover:bg-purple-700 transition-colors">
                                <i class="fas fa-brain mr-2"></i>Find Similar Candidates
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Similarity Results -->
                <div id="similarityResults" class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">Similarity Results</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="text-left p-3">Select</th>
                                    <th class="text-left p-3">Candidate</th>
                                    <th class="text-left p-3">Overall Match</th>
                                    <th class="text-left p-3">Skills</th>
                                    <th class="text-left p-3">Company</th>
                                    <th class="text-left p-3">Title</th>
                                    <th class="text-left p-3">Experience</th>
                                    <th class="text-left p-3">Details</th>
                                </tr>
                            </thead>
                            <tbody id="similarityResultsBody">
                                <tr>
                                    <td colspan="8" class="text-center p-8 text-gray-500">
                                        <i class="fas fa-brain text-4xl mb-4"></i>
                                        <p>Upload Scorely results and enter a query to find similar candidates</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Auto-Sourcing Tab -->
        <div id="sourcing" class="tab-content hidden">
            <div class="container mx-auto px-4 py-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Success Patterns -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-semibold mb-4">Success Patterns Analysis</h3>
                        
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-3">Top Companies</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center p-2 bg-blue-50 rounded">
                                        <span>Wiz</span>
                                        <span class="bg-blue-600 text-white px-2 py-1 rounded text-sm">3 TOP</span>
                                    </div>
                                    <div class="flex justify-between items-center p-2 bg-green-50 rounded">
                                        <span>Cybereason</span>
                                        <span class="bg-green-600 text-white px-2 py-1 rounded text-sm">2 TOP</span>
                                    </div>
                                    <div class="flex justify-between items-center p-2 bg-purple-50 rounded">
                                        <span>Astrix</span>
                                        <span class="bg-purple-600 text-white px-2 py-1 rounded text-sm">2 TOP</span>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h4 class="font-semibold text-gray-800 mb-3">Top Skills</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center">
                                        <span>Python</span>
                                        <div class="flex items-center">
                                            <div class="w-24 bg-gray-200 rounded-full h-2 mr-2">
                                                <div class="bg-blue-600 h-2 rounded-full" style="width: 85%"></div>
                                            </div>
                                            <span class="text-sm text-gray-600">85%</span>
                                        </div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span>AWS</span>
                                        <div class="flex items-center">
                                            <div class="w-24 bg-gray-200 rounded-full h-2 mr-2">
                                                <div class="bg-green-600 h-2 rounded-full" style="width: 78%"></div>
                                            </div>
                                            <span class="text-sm text-gray-600">78%</span>
                                        </div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span>Kubernetes</span>
                                        <div class="flex items-center">
                                            <div class="w-24 bg-gray-200 rounded-full h-2 mr-2">
                                                <div class="bg-purple-600 h-2 rounded-full" style="width: 71%"></div>
                                            </div>
                                            <span class="text-sm text-gray-600">71%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h4 class="font-semibold text-gray-800 mb-3">Top Titles</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center">
                                        <span>Backend Engineer</span>
                                        <span class="text-sm text-gray-600">65%</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span>Senior Developer</span>
                                        <span class="text-sm text-gray-600">58%</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span>Tech Lead</span>
                                        <span class="text-sm text-gray-600">42%</span>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h4 class="font-semibold text-gray-800 mb-3">Experience</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center">
                                        <span>4-6 years</span>
                                        <span class="text-sm text-gray-600">68%</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span>7-10 years</span>
                                        <span class="text-sm text-gray-600">25%</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span>3-4 years</span>
                                        <span class="text-sm text-gray-600">15%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Boolean Queries & Suggestions -->
                    <div class="space-y-6">
                        <!-- Generated Boolean Queries -->
                        <div class="bg-white rounded-lg shadow-lg p-6">
                            <h3 class="text-lg font-semibold mb-4">Generated Boolean Queries</h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <h4 class="font-semibold text-gray-800 mb-2">LinkedIn Boolean Query</h4>
                                    <div class="bg-gray-50 p-3 rounded border">
                                        <code class="text-sm">
                                            ("Backend Engineer" OR "Senior Developer") AND ("Python" OR "AWS" OR "Kubernetes") AND ("Wiz" OR "Cybereason" OR "Astrix")
                                        </code>
                                    </div>
                                    <div class="flex space-x-2 mt-2">
                                        <button class="text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700">
                                            <i class="fas fa-copy mr-1"></i>Copy
                                        </button>
                                        <button class="text-sm bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600">
                                            <i class="fab fa-linkedin mr-1"></i>Open in LinkedIn
                                        </button>
                                    </div>
                                </div>

                                <div>
                                    <h4 class="font-semibold text-gray-800 mb-2">Google Boolean Query</h4>
                                    <div class="bg-gray-50 p-3 rounded border">
                                        <code class="text-sm">
                                            "Backend Engineer" OR "Senior Developer" AND Python AND AWS site:linkedin.com
                                        </code>
                                    </div>
                                    <div class="flex space-x-2 mt-2">
                                        <button class="text-sm bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700">
                                            <i class="fas fa-copy mr-1"></i>Copy
                                        </button>
                                        <button class="text-sm bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600">
                                            <i class="fab fa-google mr-1"></i>Search Google
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Smart Sourcing Suggestions -->
                        <div class="bg-white rounded-lg shadow-lg p-6">
                            <h3 class="text-lg font-semibold mb-4">Smart Sourcing Suggestions</h3>
                            
                            <div class="space-y-4">
                                <div class="p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                    <h4 class="font-semibold text-blue-800">Try targeting Backend Engineers at Check Point</h4>
                                    <p class="text-blue-600 text-sm">Similar security company profile to your successful Wiz hires</p>
                                </div>
                                
                                <div class="p-4 bg-green-50 rounded-lg border-l-4 border-green-500">
                                    <h4 class="font-semibold text-green-800">Look for Python developers with 5+ years experience</h4>
                                    <p class="text-green-600 text-sm">82% success rate in your previous TOP-rated candidates</p>
                                </div>
                                
                                <div class="p-4 bg-purple-50 rounded-lg border-l-4 border-purple-500">
                                    <h4 class="font-semibold text-purple-800">Consider DevOps from Security companies</h4>
                                    <p class="text-purple-600 text-sm">80% skill overlap with your successful Backend Engineer hires</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Companies Tab -->
        <div id="companies" class="tab-content hidden">
            <div class="container mx-auto px-4 py-8">
                <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                    <h2 class="text-2xl font-semibold mb-6">Companies Intelligence</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Industry</label>
                            <select class="w-full p-3 border border-gray-300 rounded-md">
                                <option value="">All Industries</option>
                                <option value="cybersecurity">Cybersecurity</option>
                                <option value="fintech">FinTech</option>
                                <option value="ai">AI/ML</option>
                                <option value="saas">SaaS</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Company Size</label>
                            <select class="w-full p-3 border border-gray-300 rounded-md">
                                <option value="">Any Size</option>
                                <option value="startup">Startup (1-50)</option>
                                <option value="scale">Scale-up (51-500)</option>
                                <option value="enterprise">Enterprise (500+)</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                            <select class="w-full p-3 border border-gray-300 rounded-md">
                                <option value="">All Companies</option>
                                <option value="hot">Hot Companies Only</option>
                                <option value="unicorn">Unicorns</option>
                                <option value="public">Public Companies</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Hot Companies Section -->
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fas fa-fire text-red-500 mr-2"></i>
                        Hot Companies This Week
                    </h3>
                    <p class="text-gray-600 mb-6">Companies with recent activity - higher candidate response rates expected</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="border rounded-lg p-4 hover:shadow-md transition-shadow">
                            <div class="flex items-center justify-between mb-2">
                                <h4 class="font-semibold">Microsoft</h4>
                                <span class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs">Layoffs</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Big Tech • 7000+ employees</p>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-blue-600">3 candidates available</span>
                                <button class="text-xs bg-blue-600 text-white px-2 py-1 rounded">View</button>
                            </div>
                        </div>

                        <div class="border rounded-lg p-4 hover:shadow-md transition-shadow">
                            <div class="flex items-center justify-between mb-2">
                                <h4 class="font-semibold">Unity</h4>
                                <span class="bg-orange-100 text-orange-800 px-2 py-1 rounded text-xs">Layoffs</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Gaming • 1500+ employees</p>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-blue-600">3 candidates available</span>
                                <button class="text-xs bg-blue-600 text-white px-2 py-1 rounded">View</button>
                            </div>
                        </div>

                        <div class="border rounded-lg p-4 hover:shadow-md transition-shadow">
                            <div class="flex items-center justify-between mb-2">
                                <h4 class="font-semibold">Cybereason</h4>
                                <span class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs">Layoffs</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Security • 750 employees</p>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-blue-600">2 candidates available</span>
                                <button class="text-xs bg-blue-600 text-white px-2 py-1 rounded">View</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings" class="tab-content hidden">
            <div class="container mx-auto px-4 py-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- API Integration -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-semibold mb-4">Settings & Integrations</h3>
                        
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-2">Google Sheets Integration</h4>
                                <input type="password" id="googleApiKey" class="w-full p-3 border border-gray-300 rounded-md mb-2" placeholder="Google Sheets API Key">
                                <button id="testConnection" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                    <i class="fas fa-check mr-2"></i>Test Connection
                                </button>
                            </div>

                            <div>
                                <h4 class="font-semibold text-gray-800 mb-2">OpenAI Integration</h4>
                                <input type="password" id="openaiApiKey" class="w-full p-3 border border-gray-300 rounded-md mb-2" placeholder="OpenAI API Key">
                                <select id="modelSelection" class="w-full p-3 border border-gray-300 rounded-md">
                                    <option value="text-embedding-ada-002">text-embedding-ada-002</option>
                                    <option value="text-embedding-3-small">text-embedding-3-small</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Data Sources -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-semibold mb-4">Data Sources</h3>
                        
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-3 border rounded">
                                <div>
                                    <h4 class="font-semibold">Active Candidates</h4>
                                    <p class="text-sm text-gray-600">100+ candidates actively looking for opportunities</p>
                                </div>
                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Connected</span>
                            </div>

                            <div class="flex items-center justify-between p-3 border rounded">
                                <div>
                                    <h4 class="font-semibold">Hot Companies</h4>
                                    <p class="text-sm text-gray-600">28 companies with recent market events</p>
                                </div>
                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Connected</span>
                            </div>

                            <div class="flex items-center justify-between p-3 border rounded">
                                <div>
                                    <h4 class="font-semibold">Companies Database</h4>
                                    <p class="text-sm text-gray-600">396 companies with detailed intelligence</p>
                                </div>
                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Connected</span>
                            </div>

                            <div class="flex items-center justify-between p-3 border rounded">
                                <div>
                                    <h4 class="font-semibold">Scorely Results</h4>
                                    <p class="text-sm text-gray-600">TOP and GOOD candidate profiles with embeddings</p>
                                </div>
                                <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">Upload Required</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Settings -->
                <div class="bg-white rounded-lg shadow-lg p-6 mt-8">
                    <h3 class="text-lg font-semibold mb-4">Advanced Settings</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Similarity Threshold</label>
                            <input type="range" min="0" max="100" value="50" class="w-full">
                            <p class="text-xs text-gray-500 mt-1">Minimum similarity score to show results</p>
                        </div>

                        <div class="space-y-4">
                            <label class="flex items-center">
                                <input type="checkbox" class="mr-2" checked>
                                <span class="text-sm">Auto-Save Settings</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="mr-2" checked>
                                <span class="text-sm">Save settings automatically</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="mr-2" checked>
                                <span class="text-sm">Cache Embeddings</span>
                            </label>
                            <p class="text-xs text-gray-500">Store embeddings locally to save API costs</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Selected Candidates Sidebar -->
        <div id="selectedSidebar" class="fixed top-0 right-0 h-full w-80 bg-white shadow-xl transform translate-x-full transition-transform duration-300 z-40">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h3 class="text-lg font-semibold">Selected Candidates</h3>
                    <button id="closeSidebar" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            
            <div class="p-6">
                <div id="selectedList" class="space-y-3 mb-6">
                    <div class="text-center text-gray-500 py-8">
                        <i class="fas fa-users text-4xl mb-4"></i>
                        <p>No candidates selected</p>
                    </div>
                </div>
                
                <div class="space-y-3">
                    <button id="exportCSV" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors">
                        <i class="fas fa-download mr-2"></i>Export CSV
                    </button>
                    <button id="exportLinkedIn" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition-colors">
                        <i class="fab fa-linkedin mr-2"></i>Export LinkedIn URLs
                    </button>
                    <button id="clearAll" class="w-full bg-gray-600 text-white py-2 rounded hover:bg-gray-700 transition-colors">
                        <i class="fas fa-trash mr-2"></i>Clear All
                    </button>
                </div>
            </div>
        </div>

        <!-- Guest Access Warning -->
        <div id="guestWarning" class="hidden fixed bottom-4 right-4 bg-yellow-100 border border-yellow-400 text-yellow-800 px-4 py-3 rounded-lg shadow-lg max-w-sm">
            <div class="flex items-start">
                <i class="fas fa-exclamation-triangle mr-2 mt-1"></i>
                <div>
                    <p class="font-semibold text-sm">Guest Mode Active</p>
                    <p class="text-xs">Some features are limited. Select your name for full access.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let isGuest = false;
        let selectedCandidates = [];
        let uploadedCandidates = [];
        let viewedCandidates = {};

        // Sample data
        const sampleCandidates = [
            {
                id: 1,
                name: "Or Ben Chitrit",
                company: "Wiz",
                title: "Backend Engineer",
                experience: "5 years",
                status: "LOOKING",
                score: 87,
                skills: ["Python", "AWS", "Docker"],
                linkedin: "https://linkedin.com/in/orbc",
                isHotCompany: true,
                embedding: Array(1536).fill(0).map(() => Math.random())
            },
            {
                id: 2,
                name: "Alon Mizrahi",
                company: "Microsoft",
                title: "Senior Backend",
                experience: "6 years",
                status: "LOOKING",
                score: 92,
                skills: ["C#", "Azure", "Kubernetes"],
                linkedin: "https://linkedin.com/in/alonmiz",
                isHotCompany: true,
                embedding: Array(1536).fill(0).map(() => Math.random())
            },
            {
                id: 3,
                name: "Yoav Sharon",
                company: "Unity",
                title: "Software Engineer",
                experience: "4 years", 
                status: "LOOKING",
                score: 78,
                skills: ["C++", "Unity3D", "Graphics"],
                linkedin: "https://linkedin.com/in/yoav-sharon",
                isHotCompany: true,
                embedding: Array(1536).fill(0).map(() => Math.random())
            }
        ];

        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            setupEventListeners();
            showUserAccessModal();
        }

        function setupEventListeners() {
            // User access modal
            document.getElementById('teamMemberLogin').addEventListener('click', handleTeamMemberLogin);
            document.getElementById('guestLogin').addEventListener('click', handleGuestLogin);
            document.getElementById('switchUser').addEventListener('click', showUserAccessModal);

            // Navigation
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', (e) => {
                    const tabName = e.currentTarget.dataset.tab;
                    switchToTab(tabName);
                });
            });

            // Search functionality
            document.getElementById('searchBtn').addEventListener('click', performSearch);
            document.getElementById('findSimilarBtn').addEventListener('click', findSimilarCandidates);

            // File upload
            document.getElementById('dropZone').addEventListener('click', () => {
                document.getElementById('fileInput').click();
            });
            document.getElementById('fileInput').addEventListener('change', handleFileUpload);

            // Selected candidates
            document.getElementById('selectedCounter').addEventListener('click', toggleSelectedSidebar);
            document.getElementById('closeSidebar').addEventListener('click', closeSelectedSidebar);
            document.getElementById('exportCSV').addEventListener('click', exportSelectedCSV);
            document.getElementById('clearAll').addEventListener('click', clearSelectedCandidates);

            // Drag and drop
            setupDragAndDrop();
        }

        function showUserAccessModal() {
            document.getElementById('userAccessModal').classList.remove('hidden');
            document.getElementById('mainApp').classList.add('hidden');
        }

        function handleTeamMemberLogin() {
            const selectedUser = document.getElementById('teamMemberSelect').value;
            if (!selectedUser) {
                alert('Please select your name');
                return;
            }
            
            currentUser = selectedUser;
            isGuest = false;
            
            document.getElementById('currentUser').textContent = currentUser;
            document.getElementById('userAccessModal').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            document.getElementById('guestWarning').classList.add('hidden');
            
            // Show full features
            document.getElementById('unviewedFilter').style.display = 'block';
            
            loadUserData();
        }

        function handleGuestLogin() {
            currentUser = 'Guest';
            isGuest = true;
            
            document.getElementById('currentUser').textContent = 'Guest User';
            document.getElementById('userAccessModal').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            document.getElementById('guestWarning').classList.remove('hidden');
            
            // Hide user-specific features
            document.getElementById('unviewedFilter').style.display = 'none';
        }

        function loadUserData() {
            if (isGuest) return;
            
            // Load user's viewed candidates
            const stored = localStorage.getItem(`viewedCandidates_${currentUser}`);
            if (stored) {
                viewedCandidates[currentUser] = JSON.parse(stored);
            }
        }

        function switchToTab(tabName, filter = null) {
            // Update nav
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active', 'border-blue-600', 'text-blue-600');
                tab.classList.add('border-transparent');
            });
            
            const activeTab = document.querySelector(`[data-tab="${tabName}"]`);
            if (activeTab) {
                activeTab.classList.add('active', 'border-blue-600', 'text-blue-600');
                activeTab.classList.remove('border-transparent');
            }

            // Show content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(tabName).classList.remove('hidden');

            // Apply filters if specified
            if (filter === 'looking' && tabName === 'search') {
                document.getElementById('lookingOnly').checked = true;
                performSearch();
            }
        }

        function performSearch() {
            const results = sampleCandidates.filter(candidate => {
                let matches = true;

                // Apply filters
                if (document.getElementById('lookingOnly').checked && candidate.status !== 'LOOKING') {
                    matches = false;
                }

                if (document.getElementById('hotCompaniesOnly').checked && !candidate.isHotCompany) {
                    matches = false;
                }

                if (document.getElementById('unviewedOnly').checked && !isGuest) {
                    const userViewed = viewedCandidates[currentUser] || [];
                    if (userViewed.includes(candidate.id)) {
                        matches = false;
                    }
                }

                return matches;
            });

            displaySearchResults(results);
        }

        function displaySearchResults(candidates) {
            const tbody = document.getElementById('candidateResults');
            
            if (candidates.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="8" class="text-center p-8 text-gray-500">
                            <i class="fas fa-search text-4xl mb-4"></i>
                            <p>No candidates found matching your criteria</p>
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = candidates.map(candidate => {
                const isViewed = !isGuest && (viewedCandidates[currentUser] || []).includes(candidate.id);
                const isSelected = selectedCandidates.some(c => c.id === candidate.id);
                
                return `
                    <tr class="${isViewed ? 'bg-gray-50' : ''} hover:bg-gray-100">
                        <td class="p-3">
                            <input type="checkbox" ${isSelected ? 'checked' : ''} onchange="toggleCandidateSelection(${candidate.id})">
                        </td>
                        <td class="p-3">
                            <div class="flex items-center">
                                ${!isViewed && !isGuest ? '<span class="bg-green-500 text-white px-2 py-1 rounded text-xs mr-2">NEW</span>' : ''}
                                <span class="font-medium">${candidate.name}</span>
                            </div>
                        </td>
                        <td class="p-3">
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">${candidate.status}</span>
                        </td>
                        <td class="p-3">
                            <div class="flex items-center">
                                ${candidate.isHotCompany ? '<i class="fas fa-fire text-red-500 mr-1"></i>' : ''}
                                ${candidate.company}
                            </div>
                        </td>
                        <td class="p-3">${candidate.title}</td>
                        <td class="p-3">${candidate.experience}</td>
                        <td class="p-3">
                            <span class="font-semibold ${candidate.score >= 80 ? 'text-green-600' : candidate.score >= 60 ? 'text-yellow-600' : 'text-red-600'}">
                                ${candidate.score}
                            </span>
                        </td>
                        <td class="p-3">
                            <button onclick="viewCandidate(${candidate.id})" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function viewCandidate(candidateId) {
            if (!isGuest) {
                // Mark as viewed
                if (!viewedCandidates[currentUser]) {
                    viewedCandidates[currentUser] = [];
                }
                if (!viewedCandidates[currentUser].includes(candidateId)) {
                    viewedCandidates[currentUser].push(candidateId);
                    localStorage.setItem(`viewedCandidates_${currentUser}`, JSON.stringify(viewedCandidates[currentUser]));
                }
            }
            
            // Show candidate details (implementation depends on requirements)
            alert('Candidate profile opened');
            
            // Refresh search results to update NEW badges
            performSearch();
        }

        function toggleCandidateSelection(candidateId) {
            const candidate = sampleCandidates.find(c => c.id === candidateId);
            const existingIndex = selectedCandidates.findIndex(c => c.id === candidateId);
            
            if (existingIndex === -1) {
                selectedCandidates.push(candidate);
            } else {
                selectedCandidates.splice(existingIndex, 1);
            }
            
            updateSelectedCounter();
            updateSelectedSidebar();
        }

        function updateSelectedCounter() {
            document.getElementById('selectedCounter').innerHTML = `
                <i class="fas fa-list mr-2"></i>
                <span>Selected (${selectedCandidates.length})</span>
            `;
        }

        function updateSelectedSidebar() {
            const listContainer = document.getElementById('selectedList');
            
            if (selectedCandidates.length === 0) {
                listContainer.innerHTML = `
                    <div class="text-center text-gray-500 py-8">
                        <i class="fas fa-users text-4xl mb-4"></i>
                        <p>No candidates selected</p>
                    </div>
                `;
                return;
            }

            listContainer.innerHTML = selectedCandidates.map(candidate => `
                <div class="flex items-center justify-between p-3 border rounded">
                    <div>
                        <div class="font-medium">${candidate.name}</div>
                        <div class="text-sm text-gray-500">${candidate.company} • ${candidate.title}</div>
                    </div>
                    <button onclick="toggleCandidateSelection(${candidate.id})" class="text-red-500 hover:text-red-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `).join('');
        }

        function toggleSelectedSidebar() {
            const sidebar = document.getElementById('selectedSidebar');
            sidebar.classList.toggle('translate-x-full');
            updateSelectedSidebar();
        }

        function closeSelectedSidebar() {
            document.getElementById('selectedSidebar').classList.add('translate-x-full');
        }

        function exportSelectedCSV() {
            if (selectedCandidates.length === 0) {
                alert('No candidates selected for export');
                return;
            }

            const csvContent = [
                ['Name', 'Company', 'Title', 'Experience', 'Score', 'LinkedIn'],
                ...selectedCandidates.map(c => [c.name, c.company, c.title, c.experience, c.score, c.linkedin])
            ].map(row => row.join(',')).join('\n');

            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'selected_candidates.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function clearSelectedCandidates() {
            selectedCandidates = [];
            updateSelectedCounter();
            updateSelectedSidebar();
            // Uncheck all checkboxes
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                if (cb.onchange && cb.onchange.toString().includes('toggleCandidateSelection')) {
                    cb.checked = false;
                }
            });
        }

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    uploadedCandidates = data;
                    
                    document.getElementById('uploadStatus').classList.remove('hidden');
                    document.getElementById('uploadDetails').textContent = `${data.length} candidates loaded with embeddings`;
                    
                    // Update profile counts
                    const topCount = data.filter(c => c.category === 'TOP').length;
                    const goodCount = data.filter(c => c.category === 'GOOD').length;
                    
                    document.getElementById('topProfilesCount').textContent = topCount;
                    document.getElementById('goodProfilesCount').textContent = goodCount;
                    
                } catch (error) {
                    alert('Error parsing file. Please ensure it\'s a valid JSON file.');
                }
            };
            reader.readAsText(file);
        }

        function findSimilarCandidates() {
            if (uploadedCandidates.length === 0) {
                alert('Please upload Scorely results first');
                return;
            }

            const query = document.getElementById('similarityQuery').value.trim();
            if (!query) {
                alert('Please enter a search query');
                return;
            }

            // Simulate similarity calculation
            const results = uploadedCandidates.map(candidate => ({
                ...candidate,
                similarity: Math.random() * 0.5 + 0.5, // Random similarity between 0.5-1.0
                skillsMatch: Math.random() * 0.4 + 0.6,
                companyMatch: Math.random() * 0.4 + 0.6,
                titleMatch: Math.random() * 0.4 + 0.6,
                experienceMatch: Math.random() * 0.4 + 0.6
            })).sort((a, b) => b.similarity - a.similarity).slice(0, 10);

            displaySimilarityResults(results);
        }

        function displaySimilarityResults(results) {
            const tbody = document.getElementById('similarityResultsBody');
            
            tbody.innerHTML = results.map(candidate => {
                const similarityPercent = Math.round(candidate.similarity * 100);
                const confidence = similarityPercent >= 85 ? 'HIGH' : similarityPercent >= 70 ? 'MEDIUM' : 'LOW';
                const confidenceColor = similarityPercent >= 85 ? 'text-green-600' : similarityPercent >= 70 ? 'text-yellow-600' : 'text-red-600';
                
                return `
                    <tr class="hover:bg-gray-50">
                        <td class="p-3">
                            <input type="checkbox" onchange="toggleCandidateSelection('sim_${candidate.name}')">
                        </td>
                        <td class="p-3">
                            <div class="font-medium">${candidate.name}</div>
                            <div class="text-sm text-gray-500">${candidate.category}</div>
                        </td>
                        <td class="p-3">
                            <div class="flex items-center">
                                <div class="similarity-bar w-20 mr-2">
                                    <div class="progress-fill bg-gradient-to-r from-red-500 to-green-500" style="width: ${similarityPercent}%"></div>
                                </div>
                                <span class="font-semibold ${confidenceColor}">${similarityPercent}% ${confidence}</span>
                            </div>
                        </td>
                        <td class="p-3">
                            <div class="text-sm">
                                <div class="w-16 bg-gray-200 rounded h-1 mb-1">
                                    <div class="bg-blue-500 h-1 rounded" style="width: ${Math.round(candidate.skillsMatch * 100)}%"></div>
                                </div>
                                <span class="text-xs text-gray-600">${Math.round(candidate.skillsMatch * 100)}%</span>
                            </div>
                        </td>
                        <td class="p-3">
                            <div class="text-sm">
                                <div class="w-16 bg-gray-200 rounded h-1 mb-1">
                                    <div class="bg-green-500 h-1 rounded" style="width: ${Math.round(candidate.companyMatch * 100)}%"></div>
                                </div>
                                <span class="text-xs text-gray-600">${Math.round(candidate.companyMatch * 100)}%</span>
                            </div>
                        </td>
                        <td class="p-3">
                            <div class="text-sm">
                                <div class="w-16 bg-gray-200 rounded h-1 mb-1">
                                    <div class="bg-purple-500 h-1 rounded" style="width: ${Math.round(candidate.titleMatch * 100)}%"></div>
                                </div>
                                <span class="text-xs text-gray-600">${Math.round(candidate.titleMatch * 100)}%</span>
                            </div>
                        </td>
                        <td class="p-3">
                            <div class="text-sm">
                                <div class="w-16 bg-gray-200 rounded h-1 mb-1">
                                    <div class="bg-orange-500 h-1 rounded" style="width: ${Math.round(candidate.experienceMatch * 100)}%"></div>
                                </div>
                                <span class="text-xs text-gray-600">${Math.round(candidate.experienceMatch * 100)}%</span>
                            </div>
                        </td>
                        <td class="p-3">
                            <button class="text-blue-600 hover:text-blue-800 text-sm">
                                <i class="fas fa-info-circle"></i>
                            </button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function setupDragAndDrop() {
            const dropZone = document.getElementById('dropZone');
            
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropZone.classList.add('border-blue-400', 'bg-blue-50');
            });

            dropZone.addEventListener('dragleave', (e) => {
                e.preventDefault();
                dropZone.classList.remove('border-blue-400', 'bg-blue-50');
            });

            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.classList.remove('border-blue-400', 'bg-blue-50');
                
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    document.getElementById('fileInput').files = files;
                    handleFileUpload({ target: { files } });
                }
            });
        }

        // Initialize with dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Sample data for initial load
            performSearch();
        });
    </script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDsudxQuZH1DcZzM1jLLJfimjeQpPCPnpniZIN2hR6Gg1YUL4PIyDRFHzxGTppltNxLipVaw6e4y%2ByTcvQBpjGMeHf%2B1nDUL6z5LrrT7xbFKtLT6yPqBYLXSGzEH5t%2F5j2658%2FiUmlz5gz5h1T8RY3FLC5XDdo4hnMhZnU0iHV5ikDdbt%2F3hMayIsGYitQxY2tSzu2j6vgV9MzmXcouC%2BrlugH3vOGgtkE3GoeS4YbewEcPBXYyoTSaosTeHbIDd1Mx48oI2R%2Bnl%2BZrK1WF9DKFl6ZmX1sPNHkgORcAaln8UjrnfVF7j3jC0ogrdhn07Se78Fjiqdjch27tJilcxkUoCY59mb1oL6yqOfzT6nvE2PDOTLonLFyFChNCzaL2dRmJdB1row5dytnXhnFdqJjqKFsPGYX1dlNg6uQiT7nKhyqxBDKi3BckJkkkKn3HBzeZh5L6%2FyYCDojtsGgu0civfm4U95M2l6VTofUzEZOHlLPBntX3EaxBRYjS%2BC1n2DMg%3D%3D";
        window.__genspark_locale = "en-US";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDsudxQuZH1DcZzM1jLLJfimjeQpPCPnpniZIN2hR6Gg1YUL4PIyDRFHzxGTppltNxLipVaw6e4y+yTcvQBpjGMeHf+1nDUL6z5LrrT7xbFKtLT6yPqBYLXSGzEH5t/5j2658/iUmlz5gz5h1T8RY3FLC5XDdo4hnMhZnU0iHV5ikDdbt/3hMayIsGYitQxY2tSzu2j6vgV9MzmXcouC+rlugH3vOGgtkE3GoeS4YbewEcPBXYyoTSaosTeHbIDd1Mx48oI2R+nl+ZrK1WF9DKFl6ZmX1sPNHkgORcAaln8UjrnfVF7j3jC0ogrdhn07Se78Fjiqdjch27tJilcxkUoCY59mb1oL6yqOfzT6nvE2PDOTLonLFyFChNCzaL2dRmJdB1row5dytnXhnFdqJjqKFsPGYX1dlNg6uQiT7nKhyqxBDKi3BckJkkkKn3HBzeZh5L6/yYCDojtsGgu0civfm4U95M2l6VTofUzEZOHlLPBntX3EaxBRYjS+C1n2DMg==";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
